<?xml version="1.0" encoding="UTF-8"?>
<!-- -*- mode: xml; fill-column: 72; -*- -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
  ]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes"?>
<?rfc iprnotified="no" ?>
<?rfc strict="yes" ?>
<rfc category="std" ipr="trust200902"
     docName="draft-ietf-netmod-module-tags-03"
     updates="rfc6087bis">
  <front>
    <title abbrev="YANG Module Tags">YANG Module Tags</title>
    <author initials='C.' surname="Hopps" fullname='Christan Hopps'>
      <organization>Deutsche Telekom</organization>
      <address>
        <email>chopps@chopps.org</email>
      </address>
    </author>
    <author initials='L.' surname="Berger" fullname='Lou Berger'>
      <organization>LabN Consulting, L.L.C.</organization>
      <address>
        <email>lberger@labn.net</email>
      </address>
    </author>
    <author initials='D.' surname="Bogdanovic" fullname='Dean Bogdanovic'>
      <organization></organization>
      <address>
        <email>ivandean@gmail.com</email>
      </address>
    </author>
    <date/>
    <abstract>
      <t>
        This document provides for the association of tags with YANG
        modules. The expectation is for such tags to be used to help
        classify and organize modules. A method for defining, reading
        and writing a modules tags is provided. Tags may be standardized
        and assigned during module definition; assigned by
        implementations; or dynamically defined and set by users. This
        document provides guidance to future model writers and, as such,
        this document updates <xref
        target="I-D.ietf-netmod-rfc6087bis"/>.
      </t>
    </abstract>
  </front>
  <middle>
    <section anchor="sec-intro" title="Introduction">
      <t>
        The use of tags for classification and organization is fairly
        ubiquitous not only within IETF protocols, but in the internet
        itself (e.g., #hashtags). Tags can be usefully standardized, but
        they can also serve as a non-standardized mechanism available
        for users to define themselves. Our solution provides for both
        cases allowing for the most flexibility. In particular, tags may
        be standardized as well as assigned during module definition;
        assigned by implementations; or dynamically defined and set by
        users.
      </t>
      <t>
        This document defines a YANG module <xref target="RFC6020"/>
        which provides a list of module entries to allow for adding or
        removing of tags as well as viewing the set of tags associated
        with a module.
      </t>
      <t>
        This document defines an extension statement to be used to
        indicate tags that SHOULD be added by the module implementation
        automatically (i.e., outside of configuration).
      </t>
      <t>
        This document also defines an IANA registry for tag prefixes
        as well as a set of globally assigned tags.
      </t>
      <t>
        <xref target="sec-guide"/> provides guidelines for
        authors of YANG data models.  This section updates <xref
        target="I-D.ietf-netmod-rfc6087bis"/>. 
      </t>
    </section>
    <section anchor="sec-conventions" title="Conventions Used in This Document">
      <t>
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
        NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
        "MAY", and "OPTIONAL" in this document are to be interpreted as
        described in <xref target="RFC2119"/> <xref target="RFC8174"/>
        when, and only when, they appear in all capitals, as shown here.
      </t>
    </section>
    <section anchor="sec-prefixes" title="Tag Values">
      <t>
        All tags begin with a prefix indicating who owns their
        definition. An IANA registry is used to support standardizing
        tag prefixes. Currently 3 prefixes are defined with all others
        reserved. No further structure is imposed by this document on
        the value following the standard prefix, and the value can
        contain any yang type 'string' characters except
        carriage-returns, newlines and tabs.
      </t>
      <section anchor="sec-std-tags" title="IETF Standard Tags">
        <t>
          An IETF standard tag is a tag that has the prefix "ietf:". All
          IETF standard tags are registered with IANA in a registry
          defined later in this document.
        </t>
      </section>
      <section anchor="sec-vendor-tags" title="Vendor Tags">
        <t>
          A vendor tag is a tag that has the prefix "vendor:". These
          tags are defined by the vendor that implements the module, and
          are not standardized; however, it is RECOMMENDED that the
          vendor include extra identification in the tag to avoid
          collisions such as using the enterpise or organization name
          follwing the "vendor:" prefix (e.g.,
          vendor:example.com:vendor-defined-classifier).
        </t>
      </section>
      <section anchor="sec-user-tags" title="User Tags">
        <t>
          A user tag is any tag that has the prefix "user:". These tags
          are defined by the user/administrator and will never be
          standardized.
        </t>
      </section>
      <section anchor="sec-resv-tags" title="Reserved Tags">
        <t>
          Any tag not starting with the prefix "ietf:", "vendor:" or
          "user:" is reserved for future standardization.
        </t>
      </section>
    </section>
  <section anchor="sec-mod-tag-mgmnt" title="Tag Management">
    <t>
      Tags can become associated with a module in a number of ways. Tags
      may be defined and associated at module design time, at
      implementation time, or via user administrative control. As the
      main consumer of tags are users, users may also remove any tag, no
      matter how the tag became associated with a module.
    </t>
    <section anchor="sec-module-tags" title="Module Definition Association">
      <t>
        A module definition can indicate a set of tags to be added by
        the module implementer. These design time tags are indicated
        using the module-tag extension statement. If the module
        definition will be IETF standards track, the tags MUST also be
        IETF standard tags (Section 3.1). Thus, new modules can drive
        the addition of new standard tags to the IANA registry, and the
        IANA registry can serve as a check against duplication.
      </t>
    </section>
    <section anchor="sec-imp-tags" title="Implementation Association">
      <t>
        An implementation MAY include additional tags associated with a
        module.  These tags may be standard or vendor specific tags. 
      </t>
    </section>
    <section anchor="sec-admin-tags" title="Administrative Tagging">
      <t>
        Tags of any kind can be assigned and removed with using normal
        configuration mechanisms.
      </t>
    </section>
 </section>
    <section anchor="sec-module" title="Tags Module Structure">
      <section anchor="sec-module-tree" title="Tags Module Tree">
      <t>
        The tree associated with the "ietf-module-tags" module follows.
        The meaning of the symbols can be found in <xref
        target="RFC8340"/>.
      </t>
      <t>
        <figure>
          <artwork><![CDATA[
module: ietf-module-tags
  +--rw module-tags
     +--rw module* [name]
        +--rw name          yang:yang-identifier
        +--rw tag*          tag
        +--rw masked-tag*   tag
]]></artwork>
        </figure>
      </t>
      
      </section>
      <section anchor="sec-module-yang" title="Tags Module">
      <t>
        <figure>
          <artwork><![CDATA[
<CODE BEGINS> file "ietf-module-tags@2018-10-17.yang"
module ietf-module-tags {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-module-tags";
  prefix tags;

  import ietf-yang-types {
    prefix yang;
  }

  organization
    "IETF NetMod Working Group (NetMod)";
  contact
    "NetMod Working Group - <netmod@ietf.org>";

  // RFC Ed.: replace XXXX with actual RFC number and
  // remove this note.

  description
    "This module describes a mechanism associating tags with YANG
     modules. Tags may be IANA assigned or privately defined.

     Copyright (c) 2018 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'MAY', and
     'OPTIONAL' in the module text are to be interpreted as described
     in RFC 2119 (https://tools.ietf.org/html/rfc2119).

     This version of this YANG module is part of RFC XXXX
     (https://tools.ietf.org/html/rfcXXXX); see the RFC itself for
     full legal notices.";

  // RFC Ed.: update the date below with the date of RFC publication
  // and RFC number and remove this note.

  revision 2018-10-17 {
    description
      "Initial revision.";
    reference "RFC XXXX: YANG Module Tags";
  }

  typedef tag {
    type string {
      pattern '[a-zA-Z_][a-zA-Z0-9\-_]*:[\S ]+';
      length "1..max";
    }
    description
      "A tag value is composed of a standard prefix followed by any type
       'string' value that does not include carriage return, newline or
       tab characters.";
  }

  extension module-tag {
    argument tag;
    description
      "The argument 'tag' is of type 'tag'. This extension statement is
       used by module authors to indicate the tags that SHOULD be added
       automatically by the system. As such the origin of the value
       for the pre-defined tags should be set to 'system'.";
  }

  container module-tags {
    description
      "Contains the list of modules and their associated tags";
    list module {
      key "name";
      description
        "A list of modules and their associated tags";
      leaf name {
        type yang:yang-identifier;
        mandatory true;
        description
          "The YANG module name.";
      }
      leaf-list tag {
        type tag;
        description
          "Tags associated with the module. See the IANA 'YANG Module
           Tag Prefix' registry for reserved prefixes and the IANA 'YANG
           Module IETF Tag' registry for IETF standard tags.

           The operational view of this list is constructed using the following steps:

           1) System added tags are added.
           2) User configured tags are added.
           3) Any tag that is equal to a masked-tag is removed.";
      }
      leaf-list masked-tag {
        type tag;
        description
          "The list of tags that should not be associated with this
           module. This user can remove (mask) tags by adding
           them to this list. It is not an error to add tags to this
           list that are not associated with the module.";
      }
    }
  }
}
<CODE ENDS>
]]></artwork>
        </figure>
      </t>
    </section>
    </section>
    <section anchor="sec-other" title="Other Classifications">
      <t>
        It's worth noting that a different YANG module classification
        document exists <xref target="RFC8199"/>. That
        document is classifying modules in only a logical manner and
        does not define tagging or any other mechanisms. It divides YANG
        modules into 2 categories (service or element) and then into one
        of 3 origins: standard, vendor or user.  It does provide a good
        way to discuss and identify modules in general. This document
        defines standard tags to support <xref target="RFC8199"/> style
        classification.
      </t>
    </section>
    <section anchor="sec-guide" title="Guidelines to Model Writers">
      <t>
        This section updates <xref target="I-D.ietf-netmod-rfc6087bis"/>.
      </t>
      <section anchor="sec-guide-def" title="Define Standard Tags">
        <t>
          A module can indicate using module-tag extension statements a
          set of tags that are to be automatically associated with it
          (i.e., not added through configuration).
          <figure>
            <artwork><![CDATA[
        module example-module {
          ...
          import module-tags { prefix tags; }

          tags:module-tag "ietf:some-new-tag";
          tags:module-tag "ietf:some-other-tag";
          ...
        }
]]>
            </artwork>
          </figure>
        </t>
        <t>
          The module writer can use existing standard tags, or use new
          tags defined in the model definition, as appropriate. For
          standardized modules new tags MUST be assigned in the IANA
          registry defined below, see <xref target="sec-ietf-prefix"/>
          below.
        </t>
      </section>
    </section>
    <section anchor="sec-iana" title="IANA Considerations">
      <section anchor="sec-iana-prefix" title="YANG Module Tag Prefix Registry">
        <t>
          This registry allocates tag prefixes. All YANG module tags SHOULD
          begin with one of the prefixes in this registry.
        </t>
        <t>
          The allocation policy for this registry is Specification Required
          <xref target="RFC5226"/>.
        </t>
        <t>
          The initial values for this registry are as follows.
          <figure>
            <artwork>
 prefix    description
 --------  ---------------------------------------------------
 ietf:     IETF Standard Tag allocated in the IANA YANG Module
           IETF Tag Registry.
 vendor:   Non-standardized tags allocated by the module implementer.
 user:    Non-standardized tags allocated by and for the user.
            </artwork>
          </figure>
        </t>
        <t>
          Other SDOs (standard organizations) wishing to standardize their
          own set of tags could allocate a top level prefix from this
          registry.
        </t>
      </section>
      <section anchor="sec-ietf-prefix" title="YANG Module IETF Tag Registry">
        <t>
          This registry allocates prefixes that have the standard prefix
          "ietf:". New values should be well considered and not achievable
          through a combination of already existing standard tags.
        </t>
        <t>
          The allocation policy for this registry is IETF Review
          <xref target="RFC5226"/>.
        </t>
        <t>
          The initial values for this registry are as follows.
        </t>
        <texttable anchor="table_ietf_iana" title="IETF Module Tag Registry">
          <ttcol align='center'>Tag</ttcol>
          <ttcol align='center'>Description</ttcol>
          <ttcol align='center'>Reference</ttcol>

         <c>ietf:rfc8199-element</c>
         <c>A module for a network element.</c>
         <c><xref target="RFC8199"/></c>

         <c>ietf:rfc8199-service</c>
         <c>A module for a network service.</c>
         <c><xref target="RFC8199"/></c>

         <c>ietf:rfc8199-standard</c>
         <c>A module defined by a standards organization.</c>
         <c><xref target="RFC8199"/></c>

         <c>ietf:rfc8199-vendor</c>
         <c>A module defined by a vendor.</c>
         <c><xref target="RFC8199"/></c>

         <c>ietf:rfc8199-user</c>
         <c>A module defined by the user.</c>
         <c><xref target="RFC8199"/></c>

         <c>ietf:hardware</c>
         <c>A module relating to hardware (e.g., inventory).</c>
         <c>[This document]</c>

         <c>ietf:software</c>
         <c>A module relating to software (e.g., installed OS).</c>
         <c>[This document]</c>

         <c>ietf:qos</c>
         <c>A module for managing quality of service.</c>
         <c>[This document]</c>

         <c>ietf:protocol</c>
         <c>A module representing a protocol.</c>
         <c>[This document]</c>

         <c>ietf:system-management</c>
         <c>A module relating to system management (e.g., a system
         management protocol such as syslog, TACAC+, SNMP, netconf, ...).</c>
         <c>[This document]</c>

         <c>ietf:network-service</c>
         <c>A module relating to network service (e.g., a network
         service protocol such as an NTP server, DNS server, DHCP server, etc).</c>
         <c>[This document]</c>

         <c>ietf:oam</c>
         <c>A module representing Operations, Administration, and
         Maintenance (e.g., BFD).</c>
         <c>[This document]</c>

         <c>ietf:routing</c>
         <c>A module related to routing.</c>
         <c>[This document]</c>

         <c>ietf:signaling</c>
         <c>A module representing control plane signaling.</c>
         <c>[This document]</c>

         <c>ietf:lmp</c>
         <c>A module representing a link management protocol.</c>
         <c>[This document]</c>
        </texttable>
      </section>
    </section>
  </middle>
  <?rfc needLines="20"?>
  <back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119"?>
      <?rfc include="reference.RFC.5226"?>
      <?rfc include="reference.RFC.6020"?>
      <?rfc include="reference.RFC.8174"?>
      <?rfc include="reference.RFC.8199"?>
      <?rfc include="reference.I-D.ietf-netmod-rfc6087bis.xml"?>
    </references>
    <references title="Informative References">
      <?rfc include="reference.RFC.8340"?>
    </references>
  </back>
</rfc>

<!-- Local Variables: -->
<!-- fill-column:72 -->
<!-- End: -->
